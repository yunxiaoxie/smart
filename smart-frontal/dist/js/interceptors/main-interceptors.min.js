"use strict";angular.module("iRestApp.mainInterceptors",[]).factory("errorInterceptor",["$rootScope","$window","$q",function(r,a,t){return{request:function(r){return r.url+="http://127.0.0.1:3000",r},response:function(a){if(!a.data)return a;"POST"==a.config.method&&r.$broadcast("formPosted",a.config.url);var t=[12001,12002,12003];if(a.data.msgNo)var e=parseInt(a.data.msgNo),o=a.data.msg;else var e=1e4;switch(e){case 1e4:"DELETE"==a.config.method.toUpperCase()&&200==a.status&&r.$broadcast("msgError",900001);break;case 10005:r.$broadcast("relogin"),r.$broadcast("msgError",e,o);break;case 10006:r.$broadcast("relogin"),r.$broadcast("msgError",e,o);break;case 10007:r.$broadcast("relogin"),r.$broadcast("msgError",e,o);break;default:_.indexOf(t,e)<0&&r.$broadcast("msgError",e,o)}return a}}}]);