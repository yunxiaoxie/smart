"use strict";angular.module("iRestApp",["ngMessages","ui.bootstrap","iRestApp.basicServer"]),angular.module("iRestApp.basicServer",[]).controller("FormCtrl",["$scope","$filter","$http",function(e,t,r){e.submitted=!1,e.isShow=function(t){return e.submitted||t.$dirty},e.submit=function(){e.submitted=!0,r.post("http://127.0.0.1:3000/formSave",e.formData).success(function(e){alert(JSON.stringify(e))}).error(function(e){alert("failure message:"+JSON.stringify({data:e}))})}}]).directive("qkSelectSex",[function(){return{restrict:"EA",replace:!0,scope:!0,templateUrl:"html/qk-select-sex.html",controller:["$scope",function(e){e.required=!1,e.dataOptions=[{id:"M",label:"男"},{id:"W",label:"女"}]}]}}]).directive("qkSelectYn",[function(){return{restrict:"EA",replace:!0,templateUrl:"html/qk-select-yn.html"}}]).directive("qkRadio",[function(){return{restrict:"EA",replace:!0,scope:!0,templateUrl:"html/qk-radio.html",controller:["$scope",function(e){e.required=!1,e.data=[{id:"true",label:"显示"},{id:"false",label:"隐藏"}]}]}}]).directive("qkCheckbox",[function(){return{restrict:"EA",replace:!0,scope:!0,templateUrl:"html/qk-checkbox.html",controller:["$scope",function(e){e.data=[{id:1,name:"看书"},{id:2,name:"跑步"},{id:3,name:"打球"}],e.selected=[],e.selectedTags=[],e.isSelected=function(t){return e.selected.indexOf(t)>=0},e.updateSelection=function(e,r){var i=e.target,c=i.checked?"add":"remove";t(c,r,i.name)};var t=function(t,r,i){if("add"===t&&e.selected.indexOf(r)===-1&&(e.selected.push(r),e.selectedTags.push(i)),"remove"===t&&e.selected.indexOf(r)!==-1){var c=e.selected.indexOf(r);e.selected.splice(c,1),e.selectedTags.splice(c,1)}e.formData&&(e.formData.selected=e.selected)}}]}}]).directive("qkDatePicker",function(){return{restrict:"EA",replace:!0,templateUrl:"html/qk-date-picker.html",controller:["$scope",function(e){e.dat=new Date,e.format="yyyy-MM-dd",e.popup={opened:!1},e.open=function(){e.popup.opened=!0},e.disabled=function(e,t){return"day"===t&&(0===e.getDay()||6===e.getDay())}}]}}).directive("chaValid",["$timeout",function(e){return{require:"ngModel",link:function(t,r,i,c){var n;t.$watch(i.ngModel,function(t){return t?(e.cancel(n),void(n=e(function(){var e,r=/[`~!@#$%^&*()+<>?:"{},.\/;\='[\]]/im;return e=!r.test(t),c.$setValidity("chaValid",e),e?t:void 0},300))):void c.$setValidity("chaValid",!0)})}}}]);